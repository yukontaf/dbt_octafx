version: 2

models:
  - name: trading_dynamics_rolling_aggregates
    description: "Model for viewing trading dynamics per user over time with rolling aggregates"
    columns:
      - name: user_id
        description: "Unique identifier for user"
        tests:
          - not_null
      - name: trading_account_id
        description: "Trading account identifier"
        tests:
          - not_null
      - name: symbol_name
        description: "Name of the traded symbol"
        tests:
          - not_null
      - name: period_start
        description: "Start of the period for the aggregate calculations (e.g., day, week, month)"
        tests:
          - not_null
      - name: cumulative_profit
        description: "Cumulative profit up to the end of the current period"
        tests:
          - not_null
      - name: cumulative_volume
        description: "Cumulative volume traded up to the end of the current period"
        tests:
          - not_null
      - name: avg_profit_per_period
        description: "Average profit per period up to the current period"
        tests:
          - not_null
      - name: avg_volume_per_period
        description: "Average volume per period up to the current period"
        tests:
          - not_null
      - name: cumulative_operations
        description: "Cumulative count of trading operations up to the end of the current period"
        tests:
          - not_null
      - name: period_profit
        description: "Profit earned during the current period"
        tests:
          - not_null
      - name: period_volume
        description: "Volume traded during the current period"
        tests:
          - not_null
      - name: profit_change_pct
        description: "Percentage change in profit from the previous period"
        tests:
          - not_null
      - name: volume_change_pct
        description: "Percentage change in volume from the previous period"
        tests:
          - not_null
